<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MCC Player Ranking Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      background: linear-gradient(to right, #FFFFFF, #4682B4);
      color: #222;
    }
    .dashboard-container {
      background: rgba(255,255,255,0.12);
      border-radius: 18px;
      padding: 36px 24px 32px 24px;
      box-shadow: 0 10px 32px rgba(0,0,0,0.14);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,0.2);
      max-width: 1000px;
      width: 95vw;
      margin: 64px auto;
      position: relative;
      z-index: 1;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 28px;
    }
    .logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .logo {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      object-fit: contain;
      background: rgba(255,255,255,0.1);
    }
    .club-name {
      font-size: 2.2rem;
      font-weight: 700;
      text-shadow: 1px 2px 2px #dde;
      margin-left: 8px;
      color: #232323;
    }
    .button-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btn {
      background: rgba(255,255,255,0.18);
      color: #232323;
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: 0.2s background, 0.2s color;
      box-shadow: 0 2px 8px rgba(50,80,120,0.08);
      font-size: 1rem;
    }
    .btn.active {
      background: #fca311;
      color: #1a1a1a;
      box-shadow: 0 4px 12px #fca31144;
    }
    .btn:hover:not(.active) {
      background: #f6d080;
      color: #373737;
    }
    #signInBtn {
      margin-left: 15px;
      background: #fca311;
      color: #191919;
      border-radius: 10px;
      font-weight: 700;
      padding: 9px 24px;
      font-size: 1rem;
      border: none;
      z-index: 10;
      box-shadow: 0 6px 16px #fca31122;
      transition: 0.12s;
    }
    #signInBtn:hover {
      background: #ffd384;
      color: #222;
    }
    .ranking-table-container {
      background: rgba(255,255,255,0.18);
      border-radius: 15px;
      padding: 20px 12px;
      box-shadow: 0 1px 9px #2222;
      overflow-x: auto;
      margin-top: 10px;
    }
    .ranking-table {
      width: 100%;
      border-collapse: collapse;
      text-align: left;
    }
    .ranking-table th,
    .ranking-table td {
      padding: 13px 10px;
      border-bottom: 1px solid #ffffff22;
      color: #232323;
      background: none;
    }
    .ranking-table th {
      font-weight: 700;
      color: #212121;
      background: #fcfcfc77;
      text-transform: uppercase;
    }
    .ranking-table td:first-child {
      color: #fca311;
      font-weight: bold;
    }
    .ranking-table tr:last-child td {
      border-bottom: none;
    }
    .ranking-table tbody tr:hover {
      background: #fff7edaa;
    }
    @media (max-width: 620px) {
      .dashboard-container {
        padding: 10px;
      }
      .logo { width: 48px; height: 48px;}
      .club-name { font-size: 1.3rem; }
      .btn { font-size: .93rem; padding: 9px 12px;}
    }
    /* Admin Modal */
    #adminModal {
      position: fixed;
      left: 0; top: 0; right: 0; bottom: 0;
      width: 100vw; height: 100vh;
      background: rgba(30,42,60,0.65);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    #adminModal.active { display: flex; }
    .admin-modal-content {
      background: #fff;
      color: #222;
      border-radius: 20px;
      padding: 2.2rem 1.2rem 1.3rem 1.2rem;
      width:98vw;
      max-width: 420px;
      margin: auto;
      box-shadow: 0 2px 24px #8884;
      position: relative;
      animation: fadeInModal 0.23s;
    }
    @keyframes fadeInModal { from{opacity:0; transform: scale(0.93);} to{opacity:1; transform:scale(1);} }
    .admin-modal-content label {
      font-weight: 600;
      font-size: 1rem;
      color: #222;
    }
    .admin-modal-content input {
      width: 100%;
      padding: 7px 12px;
      margin-bottom: 10px;
      margin-top: 3px;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      font-size: 1rem;
      background: #f9fafb;
      color: #121212;
    }
    .admin-modal-content .admin-controls {
      display: flex;
      gap: 7px;
      margin-top: 10px;
    }
    .admin-modal-content .btn-close {
      position: absolute;
      top: 10px; right: 14px;
      font-size: 1.2em;
      background: none;
      border: none;
      color: #fe4014;
      font-weight: bold;
      cursor: pointer;
    }
    .admin-modal-content .btn-logout {
      background: #e63946;
      color: #fff;
      border-radius: 8px;
      padding: 7px 12px;
      border:none;
      font-size: .95em;
      float: right;
      margin-left: 4px;
      margin-bottom: 4px;
    }
    .admin-modal-content .btn-logout:hover {
      background: #ba181b;
    }
    .admin-error {
      color: #d90429;
      font-size: .97em;
      margin: 6px 0 7px 0;
    }
    .admin-modal-content h2 {
      text-align:left;
      font-size: 1.19rem;
      font-weight: 700;
      margin-bottom: 6px;
    }
    .admin-modal-content form {
      width: 100%;
    }
    .admin-player-edit {
      background: #f7fafc;
      padding: .6em .8em .6em .8em;
      border-radius: 8px;
      margin-bottom: .45rem;
    }
    /* Responsive modal */
    @media (max-width:520px){
      .admin-modal-content { max-width:98vw; padding:1.2rem 0.2rem; }
    }
  </style>
</head>
<body>
  <div class="dashboard-container">
    <div class="header">
      <div class="button-group">
        <button class="btn active" data-format="T20">T20</button>
        <button class="btn" data-format="ODI">ODI</button>
        <button class="btn" data-format="Tests">Tests</button>
      </div>
      <div class="logo-container">
        <img src="photo_2025-07-20_16-42-14-removebg-preview.png" class="logo" alt="MCC Logo">
        <div class="club-name">MCC</div>
      </div>
      <div class="button-group">
        <button class="btn active" data-type="Batsmen">Batsmen</button>
        <button class="btn" data-type="Bowler">Bowler</button>
        <button id="signInBtn">Sign In (Admin)</button>
      </div>
    </div>
    <div class="ranking-table-container">
      <table class="ranking-table" id="rankingTable">
        <thead>
          <tr>
            <th>Ranking</th>
            <th>Player Name</th>
            <th>Runs</th>
            <th>Points</th>
          </tr>
        </thead>
        <tbody>
          <!-- Player data via JS -->
        </tbody>
      </table>
    </div>
  </div>
  <!-- Modal Overlay -->
  <div id="adminModal">
    <div class="admin-modal-content" id="adminModalContent">
      <button type="button" class="btn-close" id="closeAdminModal">&times;</button>
      <div id="adminLoginPanel" style="margin-top:8px;">
        <h2>Admin Sign In</h2>
        <form id="adminLoginForm" autocomplete="off" style="margin-top:12px;">
          <label>Username:
            <input type="text" id="adminUsername" required autocomplete="username">
          </label><br>
          <label>Password:
            <input type="password" id="adminPassword" required autocomplete="current-password">
          </label>
          <div class="admin-controls">
            <button type="submit" class="btn active" style="padding:7px 20px;">Sign In</button>
            <button type="button" class="btn" id="cancelAdminModal" style="padding:7px 20px;">Cancel</button>
          </div>
          <div id="adminLoginError" class="admin-error" style="display:none;"></div>
        </form>
      </div>
      <div id="adminEditPanel" style="display:none;">
        <button type="button" class="btn-logout" id="adminLogout">Sign Out</button>
        <h2>Edit Rankings <span id="editFormat" style="font-size:.72em;color:#fb8500"></span></h2>
        <form id="adminEditForm" autocomplete="off">
          <div id="adminPlayerInputs" style="margin-top:1.2rem;"></div>
          <div class="admin-controls">
            <button type="submit" class="btn active" style="padding:8px 15px;min-width:80px;">Save</button>
            <button type="button" class="btn" id="cancelEditPanel" style="padding:8px 15px;min-width:80px;">Cancel</button>
          </div>
          <div class="mt-2" id="adminSavedText" style="font-size:.98em;color:#088d26;display:none;">Saved! Refresh to see changes.</div>
        </form>
      </div>
    </div>
  </div>
  <script>
    // Player data structure
    let playerData = {
      T20: {
        Batsmen: [
          { rank: 1, name: "Animesh", runs: 325, points: 162.5 },
          { rank: 2, name: "Sayan", runs: 162, points: 81.0  },
          { rank: 3, name: "Deepanshu", runs: 123, points: 61.5},
          { rank: 4, name: "Saahil", runs: 117, points: 58.5 },
          { rank: 5, name: "Manthan", runs: 114, points: 57.0 }
        ],
        Bowler: [
          { rank: 1, name: "Sujal", wickets: 10, points: 100.0 },
          { rank: 2, name: "Farhan", wickets: 9, points: 90.0 },
          { rank: 3, name: "Junaid", wickets: 8, points: 80.0 },
          { rank: 4, name: "Sameer Siddiqui", wickets: 7, points: 70.0 },
          { rank: 5, name: "Manthan", wickets: 7, points: 70.0 }
        ]
      },
      ODI: {
        Batsmen: [
          { rank: 1, name: "No Data Available", runs: 0, points: 0 },
          { rank: 2, name: "No Data Available", runs: 0, points: 0 },
          { rank: 3, name: "No Data Available", runs: 0, points: 0 },
          { rank: 4, name: "No Data Available", runs: 0, points: 0 },
          { rank: 5, name: "No Data Available", runs: 0, points: 0 }
        ],
        Bowler: [
          { rank: 1, name: "No Data Available", wickets: 0, points: 0 },
          { rank: 2, name: "No Data Available", wickets: 0, points: 0 },
          { rank: 3, name: "No Data Available", wickets: 0, points: 0 },
          { rank: 4, name: "No Data Available", wickets: 0, points: 0 },
          { rank: 5, name: "No Data Available", wickets: 0, points: 0 }
        ]
      },
      Tests: {
        Batsmen: [
          { rank: 1, name: "Deepanshu", runs: 100, points: 30 },
          { rank: 2, name: "Manthan", runs: 84, points: 25.2 },
          { rank: 3, name: "Sayan", runs: 51, points: 15.3 },
          { rank: 4, name: "Ankit", runs: 43, points: 12.9 },
          { rank: 5, name: "Animesh", runs: 41, points: 12.3 }
        ],
        Bowler: [
          { rank: 1, name: "Deepanshu", wickets: 17, points: 340.0 },
          { rank: 2, name: "Vishu", wickets: 11, points: 220.0 },
          { rank: 3, name: "Manthan", wickets: 8, points: 160.0 },
          { rank: 4, name: "Rahul", wickets: 6, points: 120.0 },
          { rank: 5, name: "Ayaan", wickets: 5, points: 100.0 }
        ]
      }
    };

    let currentFormat = 'T20', currentPlayerType = 'Batsmen';

    function updateTable() {
      const data = playerData[currentFormat][currentPlayerType];
      const tbody = document.querySelector('#rankingTable tbody');
      tbody.innerHTML = '';
      data.forEach(player => {
        const row = document.createElement('tr');
        const statKey = currentPlayerType==='Batsmen'?'runs':'wickets';
        row.innerHTML = `
          <td>${player.rank}</td>
          <td>${player.name}</td>
          <td>${player[statKey]}</td>
          <td>${player.points}</td>
        `;
        tbody.appendChild(row);
      });
    }

    const formatButtons = document.querySelectorAll('.button-group:first-of-type .btn');
    const typeButtons = document.querySelectorAll('.button-group:last-of-type .btn');

    formatButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        formatButtons.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        currentFormat = btn.dataset.format;
        updateTable();
      });
    });
    typeButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        typeButtons.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        currentPlayerType = btn.dataset.type;
        const th = document.querySelector('#rankingTable th:nth-child(3)');
        th.textContent = currentPlayerType==='Batsmen'?'Runs':'Wickets';
        updateTable();
      });
    });

    document.addEventListener('DOMContentLoaded', updateTable);

    // Admin/Modal Logic
    const ADMIN_USER='admin', ADMIN_PASS='admin123';
    // modal elements
    const signInBtn = document.getElementById('signInBtn'),
          adminModal = document.getElementById('adminModal'),
          adminModalContent = document.getElementById('adminModalContent'),
          adminLoginPanel = document.getElementById('adminLoginPanel'),
          adminLoginForm = document.getElementById('adminLoginForm'),
          adminUsername = document.getElementById('adminUsername'),
          adminPassword = document.getElementById('adminPassword'),
          adminLoginError = document.getElementById('adminLoginError'),
          adminEditPanel = document.getElementById('adminEditPanel'),
          adminEditForm = document.getElementById('adminEditForm'),
          adminPlayerInputs = document.getElementById('adminPlayerInputs'),
          adminSavedText = document.getElementById('adminSavedText'),
          closeAdminModal = document.getElementById('closeAdminModal'),
          cancelAdminModal = document.getElementById('cancelAdminModal'),
          cancelEditPanel = document.getElementById('cancelEditPanel'),
          adminLogout = document.getElementById('adminLogout'),
          editFormat = document.getElementById('editFormat');
    let isAdmin=false;

    function openAdminModal() {
      adminSavedText && (adminSavedText.style.display="none");
      adminModal.classList.add('active');
      if(isAdmin) showEditPanel(); else showLoginPanel();
    }
    function closeModal(){ adminModal.classList.remove('active'); showLoginPanel();}
    signInBtn.onclick=openAdminModal;
    closeAdminModal && (closeAdminModal.onclick=closeModal);
    cancelAdminModal && (cancelAdminModal.onclick=closeModal);
    cancelEditPanel && (cancelEditPanel.onclick=closeModal);
    adminModal.onclick = (e) => { if (e.target===adminModal) closeModal(); };

    function showLoginPanel() {
      adminLoginPanel.style.display = '';
      adminEditPanel.style.display = 'none';
      adminLoginError.style.display = 'none';
      adminUsername.value = ''; adminPassword.value = '';
    }
    function showEditPanel() {
      adminLoginPanel.style.display = 'none';
      adminEditPanel.style.display = '';
      adminSavedText.style.display = "none";
      // inputs
      const data = playerData[currentFormat][currentPlayerType];
      editFormat.textContent = `(${currentFormat} ${currentPlayerType})`;
      let html = '';
      data.forEach((player, idx) => {
        let statKey = currentPlayerType === 'Batsmen' ? 'runs' : 'wickets';
        html += `
        <div class="admin-player-edit">
          <label>Rank #${player.rank}</label><br>
          <label>Name: <input type="text" name="name${idx}" value="${player.name}"></label><br>
          <label>${currentPlayerType==='Batsmen'?'Runs':'Wickets'}:
            <input type="number" name="stat${idx}" value="${player[statKey]}" ${currentPlayerType==='Bowler' ? 'step="any"' : ''}></label><br>
          <label>Points: <input type="number" step="any" name="points${idx}" value="${player.points}"></label>
        </div>`;
      });
      adminPlayerInputs.innerHTML = html;
    }

    adminLoginForm.onsubmit=function(e){
      e.preventDefault();
      adminLoginError.style.display='none';
      const u=adminUsername.value.trim(),p=adminPassword.value.trim();
      if(u===ADMIN_USER&&p===ADMIN_PASS){isAdmin=true;showEditPanel();}
      else {
        adminLoginError.textContent="Incorrect username or password.";
        adminLoginError.style.display='';
        adminPassword.value='';
      }
    };
    adminLogout && (adminLogout.onclick=function(){isAdmin=false;showLoginPanel();});
    adminEditForm.onsubmit=function(e){
      e.preventDefault();
      const data = playerData[currentFormat][currentPlayerType];
      for(let idx=0;idx<data.length;++idx){
        data[idx].name = adminEditForm[`name${idx}`].value;
        let statValue=adminEditForm[`stat${idx}`].value;
        data[idx][currentPlayerType==='Batsmen'?'runs':'wickets']=statValue*1;
        data[idx].points = parseFloat(adminEditForm[`points${idx}`].value)||0;
      }
      updateTable();
      adminSavedText.style.display="";
      setTimeout(()=>{adminSavedText.style.display="none";closeModal();},1200);
    };

  </script>
</body>
</html>
